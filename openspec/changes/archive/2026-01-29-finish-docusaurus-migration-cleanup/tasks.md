# ä»»åŠ¡æ¸…å•: å®Œæˆ Docusaurus è¿ç§»æ¸…ç†å·¥ä½œ

## ææ¡ˆä¿¡æ¯

- **ææ¡ˆ ID**: `finish-docusaurus-migration-cleanup`
- **åˆ›å»ºæ—¥æœŸ**: 2026-01-29
- **é¢„è®¡æ—¶é—´**: 45 åˆ†é’Ÿ
- **ä¾èµ–ææ¡ˆ**: `migrate-docusaurus-to-astro` (å·²å®Œæˆ)

---

## å®æ–½ä»»åŠ¡

### é˜¶æ®µ 1: å…¨é¢æœç´¢å’Œåˆ†æ

- [ ] **ä»»åŠ¡ 1.1**: æœç´¢æ‰€æœ‰ Docusaurus å¼•ç”¨
  ```bash
  grep -r "docusaurus\|Docusaurus" --exclude-dir=node_modules --exclude-dir=.astro --exclude-dir=dist --exclude-dir=.git --exclude-dir=archive -n .
  ```
  - **é¢„æœŸè¾“å‡º**: åˆ—å‡ºæ‰€æœ‰åŒ…å« Docusaurus å¼•ç”¨çš„æ–‡ä»¶
  - **éªŒè¯**: ç¡®è®¤æœç´¢ç»“æœåŒ…å«ä»¥ä¸‹æ–‡ä»¶:
    - `README.md`
    - `openspec/specs/docusaurus-site/spec.md`
    - `openspec/changes/archive/2026-01-29-migrate-docusaurus-to-astro/proposal.md`
  - **è€—æ—¶**: 2 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 1.2**: åˆ†æå½±å“èŒƒå›´å¹¶ç¡®è®¤ä¼˜å…ˆçº§
  - **é«˜ä¼˜å…ˆçº§**: `README.md` (é¡¹ç›®é¦–é¡µ,å½±å“æ‰€æœ‰å¼€å‘è€…)
  - **ä¸­ä¼˜å…ˆçº§**: `openspec/specs/docusaurus-site/` (è§„èŒƒæ–‡æ¡£)
  - **ä½ä¼˜å…ˆçº§**: `openspec/changes/archive/` (å†å²ææ¡ˆ,æ— éœ€æ›´æ–°)
  - **è¾“å‡º**: ç¡®è®¤éœ€è¦æ›´æ–°çš„æ–‡ä»¶åˆ—è¡¨
  - **è€—æ—¶**: 3 åˆ†é’Ÿ

### é˜¶æ®µ 2: æ›´æ–° README.md

- [ ] **ä»»åŠ¡ 2.1**: æ›´æ–°æŠ€æœ¯æ ˆæè¿°(ç¬¬ 322 è¡Œ)
  - **åŸæ–‡**: `åŸºäº <a href="https://docusaurus.io/">Docusaurus</a> æ„å»ºçš„æ–‡æ¡£ç«™ç‚¹`
  - **æ–°æ–‡**: `åŸºäº <a href="https://astro.build/">Astro</a> æ„å»ºçš„æ–‡æ¡£ç«™ç‚¹`
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 2.2**: æ›´æ–°å¿«é€Ÿå¼€å§‹å‘½ä»¤(ç¬¬ 331-339 è¡Œ)
  - **åŸæ–‡**:
    ```bash
    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
    npm start
    ```
  - **æ–°æ–‡**:
    ```bash
    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
    npm run dev
    ```
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 2.3**: æ›´æ–°é¡¹ç›®ç»“æ„æè¿°(ç¬¬ 351-365 è¡Œ)
  - **åŸæ–‡ç»“æ„**:
    ```
    â”œâ”€â”€ docusaurus.config.ts
    â””â”€â”€ sidebars.ts
    ```
  - **æ–°ç»“æ„**:
    ```
    â”œâ”€â”€ astro.config.mjs
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ content/
    â”‚   â”œâ”€â”€ layouts/
    â”‚   â”œâ”€â”€ components/
    â”‚   â””â”€â”€ pages/
    â””â”€â”€ public/
    ```
  - **è€—æ—¶**: 3 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 2.4**: æ›´æ–°åº•éƒ¨é“¾æ¥(ç¬¬ 378 è¡Œ)
  - **åŸæ–‡**: `<a href="https://docusaurus.io/">ğŸ“¦ Docusaurus 3.0</a>`
  - **æ–°æ–‡**: `<a href="https://astro.build/">ğŸš€ Astro 5.x</a>`
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 2.5**: éªŒè¯ README.md æ›´æ–°
  - **æ£€æŸ¥**: æ—  Docusaurus å¼•ç”¨(æ’é™¤ archive ç›®å½•)
  - **å‘½ä»¤**: `grep -i "docusaurus" README.md || echo "æ—  Docusaurus å¼•ç”¨"`
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

### é˜¶æ®µ 3: å¤„ç† OpenSpec è§„èŒƒ

- [ ] **ä»»åŠ¡ 3.1**: åˆ›å»ºæ–°çš„ `astro-site` è§„èŒƒç›®å½•
  ```bash
  mkdir -p openspec/specs/astro-site
  ```
  - **è¾“å‡º**: åˆ›å»º `openspec/specs/astro-site/spec.md`
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 3.2**: ç¼–å†™ `astro-site` è§„èŒƒæ–‡æ¡£
  - **å†…å®¹**: åŸºäº Astro æŠ€æœ¯æ ˆçš„ç«™ç‚¹è§„èŒƒ
  - **è¦æ±‚**:
    - ç»§æ‰¿ `docusaurus-site` çš„éœ€æ±‚ç»“æ„
    - æ›´æ–°æŠ€æœ¯æ ˆæè¿°(Docusaurus â†’ Astro)
    - æ›´æ–°ç›®å½•ç»“æ„æè¿°
    - æ›´æ–°æ„å»ºå’Œéƒ¨ç½²æµç¨‹
  - **è€—æ—¶**: 10 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 3.3**: æ ‡è®° `docusaurus-site` è§„èŒƒä¸º deprecated
  - **æ–¹æ³•**: åœ¨ `openspec/specs/docusaurus-site/spec.md` é¡¶éƒ¨æ·»åŠ :
    ```markdown
    > **âš ï¸ Deprecated**: æ­¤è§„èŒƒæè¿°å·²åºŸå¼ƒçš„ Docusaurus æŠ€æœ¯æ ˆã€‚
    > å½“å‰é¡¹ç›®ä½¿ç”¨ Astro,è¯·å‚é˜… [astro-site è§„èŒƒ](../astro-site/spec.md)ã€‚
    ```
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 3.4**: æ›´æ–° `openspec/project.md`
  - **ä»»åŠ¡ 3.4.1**: ç§»é™¤ Rollback Instructions ç« èŠ‚(ç¬¬ 261-304 è¡Œ)
    - **åŸå› **: è¿ç§»å·²å®Œæˆ,ä¸éœ€è¦å›æ»šæŒ‡å—
    - **æ“ä½œ**: åˆ é™¤æ•´ä¸ª "## Rollback Instructions" ç« èŠ‚
  - **ä»»åŠ¡ 3.4.2**: æ›´æ–° Recent Changes ç« èŠ‚
    - **ç¡®è®¤**: "2026-01-29: Migration from Docusaurus to Astro" ç« èŠ‚å‡†ç¡®
  - **è€—æ—¶**: 3 åˆ†é’Ÿ

### é˜¶æ®µ 4: å½’æ¡£è¿ç§»ææ¡ˆ

- [ ] **ä»»åŠ¡ 4.1**: ç§»åŠ¨è¿ç§»ææ¡ˆåˆ°å½’æ¡£ç›®å½•
  ```bash
  mv openspec/changes/migrate-docusaurus-to-astro openspec/changes/archive/2026-01-29-migrate-docusaurus-to-astro
  ```
  - **éªŒè¯**: ç¡®è®¤ææ¡ˆå·²åœ¨ `archive/` ç›®å½•ä¸­
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 4.2**: æ›´æ–°è¿ç§»ææ¡ˆçŠ¶æ€
  - **æ–‡ä»¶**: `openspec/changes/archive/2026-01-29-migrate-docusaurus-to-astro/proposal.md`
  - **æ›´æ–°**: å°†çŠ¶æ€ä» "å¾…å®¡æ‰¹" æˆ– "æ‰§è¡Œä¸­" æ›´æ–°ä¸º "æ‰§è¡Œå®Œæˆ"
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 4.3**: éªŒè¯å½’æ¡£ç»“æœ
  - **æ£€æŸ¥**: `openspec/changes/` ç›®å½•æ•´æ´,æ— æ´»åŠ¨çŠ¶æ€çš„è¿‡æœŸææ¡ˆ
  - **å‘½ä»¤**: `ls openspec/changes/`
  - **é¢„æœŸè¾“å‡º**: ä»…åŒ…å« `archive/` å’Œ `finish-docusaurus-migration-cleanup/`
  - **è€—æ—¶**: 2 åˆ†é’Ÿ

### é˜¶æ®µ 5: éªŒè¯å’Œæµ‹è¯•

- [ ] **ä»»åŠ¡ 5.1**: è¿è¡Œ OpenSpec ä¸¥æ ¼éªŒè¯
  ```bash
  openspec validate finish-docusaurus-migration-cleanup --strict --no-interactive
  ```
  - **é¢„æœŸè¾“å‡º**: æ— é”™è¯¯æˆ–è­¦å‘Š
  - **å¤±è´¥å¤„ç†**: é€ä¸ªä¿®å¤éªŒè¯é”™è¯¯
  - **è€—æ—¶**: 3 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 5.2**: è¿è¡Œç”Ÿäº§æ„å»ºæµ‹è¯•
  ```bash
  npm run build
  ```
  - **é¢„æœŸè¾“å‡º**: æ„å»ºæˆåŠŸ,è¾“å‡ºåˆ° `dist/` ç›®å½•
  - **å¤±è´¥å¤„ç†**: æ£€æŸ¥æ„å»ºæ—¥å¿—,ä¿®å¤é”™è¯¯
  - **è€—æ—¶**: 3 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 5.3**: è¿è¡Œç±»å‹æ£€æŸ¥
  ```bash
  npm run typecheck
  ```
  - **é¢„æœŸè¾“å‡º**: æ— ç±»å‹é”™è¯¯
  - **å¤±è´¥å¤„ç†**: ä¿®å¤ç±»å‹é”™è¯¯
  - **è€—æ—¶**: 2 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 5.4**: æœ¬åœ°é¢„è§ˆæµ‹è¯•
  ```bash
  npm run preview
  ```
  - **éªŒè¯**:
    - è®¿é—® `http://localhost:4321/site/`
    - æ£€æŸ¥é¦–é¡µå†…å®¹æ­£ç¡®
    - æ£€æŸ¥æ–‡æ¡£è·¯ç”±æ­£å¸¸
    - æ£€æŸ¥æ·±è‰²ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
  - **è€—æ—¶**: 3 åˆ†é’Ÿ

- [ ] **ä»»åŠ¡ 5.5**: æœ€ç»ˆ Docusaurus å¼•ç”¨æ£€æŸ¥
  ```bash
  grep -r "docusaurus\|Docusaurus" --exclude-dir=node_modules --exclude-dir=.astro --exclude-dir=dist --exclude-dir=.git --exclude-dir=archive --exclude-dir=openspec/specs/docusaurus-site -n . || echo "âœ… æ— æ®‹ç•™ Docusaurus å¼•ç”¨"
  ```
  - **é¢„æœŸè¾“å‡º**: "âœ… æ— æ®‹ç•™ Docusaurus å¼•ç”¨"
  - **ä¾‹å¤–**: `openspec/specs/docusaurus-site/` ä¸­çš„å¼•ç”¨æ˜¯é¢„æœŸçš„(å·²æ ‡è®°ä¸º deprecated)
  - **è€—æ—¶**: 1 åˆ†é’Ÿ

---

## ä»»åŠ¡ä¾èµ–å…³ç³»

```
é˜¶æ®µ 1 (æœç´¢å’Œåˆ†æ)
  â†“
é˜¶æ®µ 2 (æ›´æ–° README.md) â”€â”
  â†“                      â”‚
é˜¶æ®µ 3 (å¤„ç†è§„èŒƒ) â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â†“                      â”‚
é˜¶æ®µ 4 (å½’æ¡£ææ¡ˆ) â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
é˜¶æ®µ 5 (éªŒè¯å’Œæµ‹è¯•)
```

- **é¡ºåºä¾èµ–**: é˜¶æ®µ 1 â†’ é˜¶æ®µ 2/3/4 â†’ é˜¶æ®µ 5
- **å¹¶è¡Œæ‰§è¡Œ**: é˜¶æ®µ 2ã€3ã€4 å¯ä»¥å¹¶è¡Œæ‰§è¡Œ(ä¸åŒå¼€å‘è€…æˆ–æ—¶é—´æ®µ)
- **éªŒè¯ä¾èµ–**: æ‰€æœ‰é˜¶æ®µå®Œæˆåæ‰èƒ½æ‰§è¡Œé˜¶æ®µ 5

---

## éªŒæ”¶æ ‡å‡†

### å¿…é¡»æ»¡è¶³(MUST)

- âœ… `README.md` æ—  Docusaurus å¼•ç”¨(æ’é™¤ archive ç›®å½•)
- âœ… åˆ›å»ºæ–°çš„ `astro-site` è§„èŒƒ
- âœ… `docusaurus-site` è§„èŒƒæ ‡è®°ä¸º deprecated
- âœ… `openspec/project.md` ç§»é™¤ Rollback Instructions ç« èŠ‚
- âœ… è¿ç§»ææ¡ˆå·²å½’æ¡£åˆ° `archive/` ç›®å½•
- âœ… `openspec validate --strict` é€šè¿‡
- âœ… `npm run build` æˆåŠŸ
- âœ… `npm run typecheck` é€šè¿‡

### åº”å½“æ»¡è¶³(SHOULD)

- âœ… `npm run preview` æœ¬åœ°é¢„è§ˆæ­£å¸¸
- âœ… é¡¹ç›®ç»“æ„æè¿°ä¸å®é™…ç›®å½•ä¸€è‡´
- âœ… å¼€å‘å‘½ä»¤é€‚ç”¨äº Astro é¡¹ç›®

### å¯ä»¥æ»¡è¶³(MAY)

- âœ… æ›´æ–° `openspec/project.md` ä¸­çš„å…¶ä»– Docusaurus å¼•ç”¨
- âœ… æ›´æ–°è´¡çŒ®è€…æ–‡æ¡£ä¸­çš„æŠ€æœ¯æ ˆæè¿°

---

## æ³¨æ„äº‹é¡¹

### å…³é”®æ³¨æ„äº‹é¡¹

1. **ä¸è¦åˆ é™¤ `docusaurus-site` è§„èŒƒ**:
   - è§„èŒƒå†å²åº”ä¿ç•™,ä»…æ ‡è®°ä¸º deprecated
   - å…¶ä»–å¼€å‘è€…å¯èƒ½ä»åœ¨å¼•ç”¨è¯¥è§„èŒƒ

2. **å½’æ¡£ææ¡ˆä¸è¦ä¿®æ”¹å†…å®¹**:
   - å½’æ¡£çš„ææ¡ˆåº”ä¿æŒåŸæ ·,ä»…æ›´æ–°çŠ¶æ€
   - å†å²ææ¡ˆä¸åº”ä¿®æ”¹å†…å®¹

3. **README.md æ˜¯é¡¹ç›®é—¨é¢**:
   - ç¡®ä¿æ›´æ–°åçš„ README å‡†ç¡®åæ˜ å½“å‰æŠ€æœ¯æ ˆ
   - æ–°å¼€å‘è€…é¦–å…ˆé˜…è¯» README,å¿…é¡»å‡†ç¡®

4. **éªŒè¯å¿…é¡»å®Œæ•´**:
   - è·³è¿‡éªŒè¯å¯èƒ½å¯¼è‡´åç»­é—®é¢˜
   - æ‰€æœ‰æµ‹è¯•å¿…é¡»é€šè¿‡æ‰èƒ½åˆå¹¶

### å›æ»šè®¡åˆ’

å¦‚æœæ›´æ–°åå‘ç°é—®é¢˜,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤å›æ»š:

```bash
# 1. æŸ¥çœ‹å½“å‰æ›´æ”¹
git status
git diff

# 2. å¦‚æœä»…ä¿®æ”¹äº†æ–‡ä»¶,å¯ä»¥æ‰‹åŠ¨å›æ»š
git checkout README.md
git checkout openspec/project.md

# 3. å¦‚æœåˆ›å»ºäº†æ–°æ–‡ä»¶,åˆ é™¤å®ƒä»¬
rm -rf openspec/specs/astro-site

# 4. å¦‚æœç§»åŠ¨äº†ææ¡ˆ,ç§»å›åŸä½ç½®
mv openspec/changes/archive/2026-01-29-migrate-docusaurus-to-astro openspec/changes/migrate-docusaurus-to-astro
```

---

## å®Œæˆåæ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆ
- [ ] æ‰€æœ‰éªŒè¯æµ‹è¯•é€šè¿‡
- [ ] Git å·¥ä½œåŒºæ•´æ´(æ— æœªæäº¤çš„æ›´æ”¹)
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°æè¿°æ›´æ”¹å†…å®¹
- [ ] åˆ›å»º Pull Request(å¦‚æœéœ€è¦)
- [ ] æ›´æ–°æœ¬ææ¡ˆçŠ¶æ€ä¸º "æ‰§è¡Œå®Œæˆ"

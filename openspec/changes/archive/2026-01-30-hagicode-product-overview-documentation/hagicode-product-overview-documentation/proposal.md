# 提案: 创建 Hagicode 产品概述文档

## 概述

为 Hagicode 文档站点创建产品概述文档,填补当前文档体系中缺失的产品整体视图。该文档将作为用户了解 Hagicode 的入口,提供产品定位、核心能力、技术架构和使用场景的全面介绍。

## 背景

### 当前状态

Hagicode 文档站点当前存在以下信息缺失:

- **产品定位不清**: 缺少对 Hagicode 是什么、解决什么问题的清晰阐述
- **能力全景缺失**: 用户无法快速了解软件的所有功能模块和特性
- **架构视图缺失**: 缺少技术架构、数据流和系统设计的说明
- **使用场景不明**: 未涵盖典型使用场景和最佳实践
- **受众定位模糊**: 未区分不同用户角色(开发者、项目经理、最终用户)的关注点

现有文档主要聚焦于快速入门指南(安装、项目创建、会话类型),用户难以形成对产品的整体认知(big picture),降低了文档的实用性和用户上手效率。

### 源代码仓库

Hagicode 软件本体位于 `/home/newbe36524/repos/newbe36524/pcode`,这是文档所描述的实际产品。

## 目标

创建新的产品概述文档 `src/content/docs/product-overview.md`,从以下维度提供产品全景视图:

1. **产品概述** - 定义、核心价值、差异化定位、目标用户
2. **核心能力矩阵** - 会话管理、对话功能、项目管理、OpenSpec 集成
3. **技术架构** - Astro 5.x、React 18.2、TypeScript 5.3、MDX、Mermaid
4. **使用场景** - AI 辅助开发、提案驱动实现、团队协作
5. **快速导航** - 按用户角色定制的阅读路径

## 范围

### 包含内容

- **新增文档文件**: `src/content/docs/product-overview.md`
- **产品概述章节**: 定义 Hagicode 及其核心价值主张
- **核心能力矩阵**: 系统化展示四大功能模块
- **技术架构说明**: 文档站点和软件本体的技术栈
- **使用场景描述**: 典型应用场景和用户故事
- **Mermaid 图表**: 架构图、能力矩阵图、用户旅程图
- **快速导航链接**: 与现有快速入门文档的交叉引用

### 排除内容

- **不修改现有规范**: 这是新增内容,不涉及现有规范的变更
- **不修改代码**: 仅添加新的 Markdown 文档
- **不修改导航配置**: 依赖 Astro Content Collections 的自动化导航生成
- **不涉及多语言**: 保持单语言(中文)站点规范

## 技术实现

### 文件结构

```
src/content/docs/
└── product-overview.md  # 新增产品概述文档
```

### 技术要求

- **命名规范**: 使用 kebab-case (`product-overview.md`)
- **Frontmatter**: 必须包含 `title` 和 `description` 字段
- **内容格式**: MDX 格式,支持 Mermaid 图表
- **链接规范**: 使用相对路径链接到其他文档
- **图表支持**: 使用 Mermaid 代码块展示架构和流程
- **语言**: 简体中文,符合单语言站点规范

### Mermaid 图表

将包含以下类型的图表:

1. **架构图** (graph LR/TD): 展示技术栈和系统组件关系
2. **能力矩阵图** (mindmap): 展示核心功能模块的层次结构
3. **用户旅程图** (journey): 展示不同角色用户的使用路径

## 影响

### 受影响的规范

无。这是新增内容,不涉及现有规范的修改。

### 受影响的代码

- **新增文件**: `src/content/docs/product-overview.md`
- **构建系统**: 需通过 `npm run build` 和 `npm run typecheck` 验证
- **导航系统**: Astro Content Collections 将自动将该文档纳入站点导航

### 预期成果

- 用户能够在 5-10 分钟内建立对 Hagicode 的整体认知
- 降低新用户的上手门槛
- 提升文档站点的完整性和专业性
- 为后续功能文档提供清晰的上下文入口
- 改善 SEO 和产品可发现性

## 验证标准

### 内容完整性

- [ ] 包含所有五个核心章节(概述、能力、架构、场景、导航)
- [ ] 每个章节有清晰的小节结构和逻辑流
- [ ] 包含至少 3 个 Mermaid 图表
- [ ] 所有功能模块都有简要描述

### 技术合规性

- [ ] 通过 `npm run typecheck` (TypeScript 严格模式)
- [ ] 通过 `npm run build` (Astro 构建无错误)
- [ ] Frontmatter 包含必需字段(title, description)
- [ ] 所有链接有效且使用正确的相对路径
- [ ] Mermaid 图表语法正确且可渲染

### 用户体验

- [ ] 文档语言简练、易于理解
- [ ] 使用场景贴近实际用户需求
- [ ] 快速导航帮助不同角色快速定位相关内容
- [ ] 与现有快速入门文档形成良好的衔接关系

## 依赖关系

### 前置依赖

无。这是独立的文档添加任务。

### 后续影响

该文档将成为:
- 新用户的首选阅读材料
- 快速入门文档的前置阅读材料
- 其他功能文档的上层概述入口
- 产品营销和推广的核心参考

## 风险与缓解

### 风险 1: 内容与快速入门文档重叠

**描述**: 产品概述可能与现有的快速入门指南在内容上产生重叠。

**缓解措施**:
- 明确定位: 产品概述聚焦"是什么"和"为什么",快速入门聚焦"怎么做"
- 在产品概述中大量引用快速入门文档,避免重复详细步骤
- 通过快速导航引导用户深入阅读

### 风险 2: Mermaid 图表渲染失败

**描述**: 复杂的 Mermaid 图表可能在构建时失败或渲染不正确。

**缓解措施**:
- 遵循项目约定: 保持图表简洁(推荐 20 个节点以内)
- 使用 `npm run build` 在本地验证构建
- 参考 `project.md` 中的 Mermaid 使用规范

### 风险 3: 文档内容与产品实际功能不符

**描述**: 文档描述可能无法准确反映 Hagicode 软件的真实状态。

**缓解措施**:
- 基于 `/home/newbe36524/repos/newbe36524/pcode` 源代码仓库进行描述
- 参考 `project.md` 中的领域上下文和功能列表
- 在验证阶段与源代码仓库进行对照检查

## 时间估算

- **内容编写**: 2-3 小时(包含结构规划、内容撰写、图表设计)
- **验证测试**: 30 分钟(构建验证、链接检查、图表渲染测试)
- **总计**: 2.5-3.5 小时

## 相关资源

- **源代码仓库**: `/home/newbe36524/repos/newbe36524/pcode`
- **项目配置**: `openspec/project.md`
- **现有文档**: `src/content/docs/quick-start/`
- **技术规范**: `openspec/specs/astro-site/spec.md`
- **图表指南**: `openspec/PROPOSAL_DESIGN_GUIDELINES.md`

---
title: 限定 OpenSpec 版本为 0.23.0 的提案
change-id: openspec-version-0-23-0-lock
---

## 背景

Hagicode 项目使用 OpenSpec 进行规范驱动开发，提案管理位于 `openspec/changes/` 目录。项目的依赖管理需要确保与当前架构和工具链的兼容性。OpenSpec 工具本身有版本演进，不同版本间可能存在功能差异和 breaking changes。

## 问题

当前项目中未对 OpenSpec 的安装版本进行限定，可能导致以下问题：

- **版本不兼容**：1.0 及以上版本包含破坏性变更，与项目当前工作流不兼容
- **功能差异**：新版本可能移除或修改了项目依赖的关键功能
- **团队协作风险**：不同开发者安装不同版本可能导致环境不一致
- **文档失效**：基于 0.23.0 版本编写的 `openspec/AGENTS.md` 工作流指南可能在新版本中无法正常工作

## 解决方案

更新项目中关于 OpenSpec 安装和使用的文档，明确标注版本要求为 **0.23.0**：

- **文档更新**：在 `openspec/AGENTS.md` 和相关文档中明确说明 OpenSpec 版本要求
- **安装说明**：提供具体的安装命令示例（如 `npm install -g @fission-ai/openspec@0.23.0`）
- **版本验证**：添加版本检查说明，确保开发者使用正确的版本

## 影响

### 技术影响
- **文档准确性**：确保文档与项目实际使用的 OpenSpec 版本一致
- **功能稳定性**：确保开发者按照文档安装 0.23.0 版本后，`openspec validate`、`openspec list` 等命令能按预期工作
- **兼容性保障**：避免因版本升级导致的工作流中断

### 开发流程影响
- **安装步骤**：开发者需要安装特定版本的 OpenSpec（如 `npm install -g @fission-ai/openspec@0.23.0`）
- **文档维护**：`openspec/AGENTS.md` 中的命令和工作流说明将继续有效
- **未来升级**：如需升级到 1.0+ 版本，需要单独评估并更新相关文档和工作流

# 任务清单：Desktop Hero 标语文字动画添加

## 任务概述

为**桌面版下载页面** Hero 区域的静态标语添加符合科技主题的动画效果。

> **位置说明**: 本提案针对桌面版下载页面 (`/desktop`) 的 Hero 区域 (`apps/website/src/components/desktop/DesktopHero.tsx`)，而非营销网站首页 (`/`) 的 Hero 区域 (`apps/website/src/components/home/HeroSection.tsx`)。首页已有打字机动画，不在本次修改范围内。

## 阶段 1: 设计与规划

- [ ] **T-1:01**: 确认动画效果选择
  - **标语动画**: 从提案中的 4 个选项中选择一个：打字机 / Glitch / 淡入渐变 / 字符高亮
  - **加载状态动画**: 确认加载文字动画方案（点状动画 / 脉冲效果 / 增强旋转器）
  - 确认动画时长和交互需求

- [ ] **T-1:02**: 确认标语内容
  - 保持当前单一标语："本地化的 AI 代码助手，保护隐私，提升效率"
  - 或添加多个标语轮播（参考提案中的建议标语）

- [ ] **T-1:03**: 创建动画设计原型
  - 绘制动画关键帧草图或创建参考 demo
  - 定义动画时间轴（加载、进场、停留、切换/循环）

- [ ] **T-1:04**: 确定技术实现方案
  - 选择 Framer Motion API（motion, AnimatePresence, variants 等）
  - 确定是否需要额外的 CSS 或 SVG 支持

## 阶段 2: 实现核心动画逻辑

- [ ] **T-2:01**: 添加加载状态文字动画
  - 为第 166 行的"正在加载版本信息..."添加动画
  - 实现点状动画（...）、脉冲效果或增强旋转器
  - **注意**: 不要修改 `apps/website/src/components/home/HeroSection.tsx`（首页 Hero 组件）

- [ ] **T-2.02**: 添加动画状态管理
  - 在 `apps/website/src/components/desktop/DesktopHero.tsx` 中添加动画相关的 state
  - 如需要轮播，添加标语索引和切换逻辑

- [ ] **T-2.03**: 实现标语动画组件结构
  - 创建新的动画组件或使用 Framer Motion 的 motion 组件包装现有标语
  - 替换第 180 行（错误状态）和第 208 行（正常状态）的静态标语

- [ ] **T-2.04**: 实现标语动画关键帧
  - 使用 Framer Motion 的 `animate`, `transition`, `variants`
  - 定义进场动画和可能的循环/切换动画

- [ ] **T-2.05**: 添加标语动画切换逻辑（如使用轮播）
  - 实现标语轮播功能（如果选择多标语方案）
  - 处理错误状态下的动画行为

- [ ] **T-2.06**: 实现状态切换过渡动画
  - 添加从加载状态到正常/错误状态的平滑过渡
  - 使用 AnimatePresence 或类似技术实现状态切换动画

## 阶段 3: 样式与主题适配

- [ ] **T-3:01**: 更新 CSS 样式
  - 在 `apps/website/src/components/desktop/DesktopHero.module.css` 中添加动画相关样式
  - 更新 `.hero-tagline` 相关类名（如需要）
  - **注意**: 不要修改 `apps/website/src/components/home/HeroSection.module.css`（首页样式）

- [ ] **T-3.02**: 浅色主题适配
  - 确保动画在浅色主题下视觉效果良好
  - 调整颜色、阴影等视觉属性

- [ ] **T-3.03**: 深色主题适配
  - 确保动画在深色主题下视觉效果良好
  - 利用现有的 bgGlow 发光效果

- [ ] **T-3.04**: 农历新年主题适配
  - 确保动画在农历新年主题下视觉一致
  - 检查与桌面版页面新年元素的兼容性

## 阶段 4: 交互与优化

- [ ] **T-4:01**: 添加鼠标悬停交互（可选）
  - 如果需要，实现 hover 时的动画变化
  - 使用 Framer Motion 的 `whileHover`

- [ ] **T-4.02**: 性能优化
  - 确保使用 transform/opacity 属性（GPU 加速）
  - 测试动画帧率，确保 60fps
  - 优化重绘/重排

- [ ] **T-4.03**: 响应式适配
  - 测试不同屏幕尺寸下的动画效果
  - 调整移动端动画参数

## 阶段 5: 状态处理

- [ ] **T-5.01**: 加载状态动画适配
  - 确保加载状态下动画流畅运行
  - 测试慢速网络场景

- [ ] **T-5.02**: 错误状态动画适配
  - 确保错误状态下动画正常工作或优雅降级
  - 测试加载失败场景

- [ ] **T-5.03**: 状态切换动画测试
  - 测试从加载到正常状态的过渡
  - 测试从加载到错误状态的过渡

## 阶段 6: 无障碍与兼容性

- [ ] **T-6.01**: 实现无障碍支持
  - 添加 `prefers-reduced-motion` 媒体查询支持
  - 确保动画可以禁用或简化

- [ ] **T-6.02**: 浏览器兼容性测试
  - 测试主流浏览器的动画效果
  - 添加必要的 fallback

## 阶段 7: 测试与验证

- [ ] **T-7:01**: 功能测试
  - 验证加载状态动画正常触发
  - 验证标语动画正常触发
  - 验证标语轮播功能（如使用）
  - 验证状态切换动画流畅
  - 验证主题切换时动画正常

- [ ] **T-7.02**: 性能测试
  - 使用 Lighthouse/Chrome DevTools 检查性能
  - 确保无性能回归
  - 验证动画不影响下载按钮交互

- [ ] **T-7.03**: 视觉验收测试
  - 与设计原型对比验证
  - 获得团队/用户反馈

## 阶段 8: 文档与收尾

- [ ] **T-8.01**: 更新组件注释
  - 在 `apps/website/src/components/desktop/DesktopHero.tsx` 中添加动画相关注释
  - 说明动画类型和配置方式
  - **注意**: 不要修改 `apps/website/src/components/home/HeroSection.tsx`

- [ ] **T-8.02**: 提交代码审查
  - 创建 Pull Request
  - 附带动画演示（截图/视频）

## 依赖关系

```
阶段 1 (设计规划)
    ↓
阶段 2 (核心实现) ← 阶段 3 可以部分并行
    ↓
阶段 3 (样式适配)
    ↓
阶段 4 (交互优化)
    ↓
阶段 5 (错误状态处理)
    ↓
阶段 6 (无障碍)
    ↓
阶段 7 (测试)
    ↓
阶段 8 (收尾)
```

## 预估复杂度

| 阶段 | 预估工时 |
|------|----------|
| 阶段 1 | 取决于选择的动画效果 |
| 阶段 2 | 1-2 小时 |
| 阶段 3 | 1-2 小时 |
| 阶段 4 | 0.5-1 小时 |
| 阶段 5 | 0.5 小时 |
| 阶段 6 | 0.5-1 小时 |
| 阶段 7 | 1 小时 |
| 阶段 8 | 0.5 小时 |
| **总计** | **6-10 小时**（不含设计决策时间） |

## 重要提醒

⚠️ **请确保只修改以下文件**：
- `apps/website/src/components/desktop/DesktopHero.tsx`
- `apps/website/src/components/desktop/DesktopHero.module.css`

❌ **不要修改**：
- `apps/website/src/components/home/HeroSection.tsx`（首页 Hero）
- `apps/website/src/components/home/HeroSection.module.css`（首页样式）

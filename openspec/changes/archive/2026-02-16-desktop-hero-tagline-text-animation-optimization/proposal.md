# 提案：为 Desktop Hero 添加标语文字动画效果

## 概述

为**桌面版下载页面** Hero 区域的静态标语添加**符合科技主题的动画效果**，增强视觉吸引力和品牌辨识度。

> **位置说明**: 本提案针对桌面版下载页面 (`/desktop`) 的 Hero 区域，而非营销网站首页 (`/`) 的 Hero 区域。

## 背景

### 当前状态

**位置**: `apps/website/src/components/desktop/DesktopHero.tsx`

**页面**: 桌面版下载页面 (desktop/index.astro)

**现有实现**:
DesktopHero 组件有三种显示状态，所有文字内容均**无动画效果**：

| 状态 | 行号 | 文字内容 | 说明 |
|------|------|---------|------|
| **加载状态** | 166 | "正在加载版本信息..." | 加载版本数据时显示，纯静态文字 |
| **错误状态** | 180 | "本地化的 AI 代码助手，保护隐私，提升效率" | 加载失败时显示的标语 |
| **正常状态** | 208 | "本地化的 AI 代码助手，保护隐私，提升效率" | 加载成功后显示的标语 |

**设计系统**:
- 科技感网格背景 (tech-grid-bg)
- 背景发光效果 (bgGlow)
- 使用 Framer Motion 12.29（项目中已安装）

### 问题陈述

| 问题 | 描述 | 影响 |
|------|------|------|
| **静态展示** | 标语文字完全静态，缺乏视觉吸引力 | 用户注意力不足 |
| **加载状态单调** | 加载时显示的"正在加载版本信息..."是纯静态文字，加载体验枯燥 | 等待感知更强 |
| **状态切换生硬** | 从加载状态到内容状态的切换无过渡动画 | 体验不连贯 |
| **主题不符** | 当前桌面版页面强调科技感，但文字展示过于平淡 | 设计一致性缺失 |
| **潜力未挖掘** | 首页 Hero 已有打字机动画，但桌面版页面没有任何文字动画 | 功能利用率低 |

## 提议方案

### 目标

为 Desktop Hero 的所有文字内容添加动画效果，覆盖三个状态：

1. **加载状态** - 为加载文字添加动画（如点状动画、进度指示器等）
2. **标语内容** - 为标语文字添加进场动画（选项见下文）
3. **状态切换** - 添加平滑的状态过渡动画

### 标语动画选项

#### 选项 1: 打字机效果（与首页一致）
- 文字逐字显示，与首页 Hero 保持一致
- 用户在两个页面间切换时体验连贯
- 实现简单，复用首页逻辑

#### 选项 2: Glitch 故障风格动画
- 文字出现时带有数字故障/解码效果
- 最符合科技主题和桌面版定位
- 突出"桌面应用"的技术感

#### 选项 3: 淡入淡出 + 渐变流动
- 文字淡入后，背景渐变持续流动
- 与现有的 bgGlow 效果呼应
- 视觉效果柔和，不干扰下载操作

#### 选项 4: 字符逐个高亮进场
- 每个字符依次高亮显示
- 模拟数据传输/解码过程
- 符合"本地化 AI"的技术叙事

### 加载状态动画建议

当前加载文字"正在加载版本信息..."可添加以下动画：

- **点状动画**: "正在加载版本信息" 后跟动态跳动的点（... → . → .. → ...）
- **脉冲效果**: 整体文字的透明度脉冲变化
- **旋转加载器**: 保留现有的 loadingSpinner，增强其动画效果

### 标语内容建议

当前标语"本地化的 AI 代码助手，保护隐私，提升效率"可以保持不变，或考虑轮播多个标语：

- "本地化的 AI 代码助手，保护隐私，提升效率"（当前）
- "100% 本地运行，代码绝不上传"
- "毫秒级响应，AI 助手随时待命"
- "一键安装，开箱即用的智能编码体验"

### 技术要求

- 使用 Framer Motion 12.29 实现动画
- 保持响应式设计
- 性能优化（避免重排/重绘，目标 60fps）
- 可配置的动画时长和缓动函数
- 支持 `prefers-reduced-motion` 无障碍需求
- **加载状态动画**: 确保在版本数据加载期间动画流畅运行
- **状态过渡**: 加载→正常/错误状态的切换应有平滑过渡
- **错误状态**: 错误状态下动画应正常工作或优雅降级

## 范围

### 受影响文件

| 文件 | 修改类型 | 描述 |
|------|----------|------|
| `apps/website/src/components/desktop/DesktopHero.tsx` | 修改 | 添加动画逻辑：<br>- 加载状态文字（第 166 行）<br>- 错误状态标语（第 180 行）<br>- 正常状态标语（第 208 行） |
| `apps/website/src/components/desktop/DesktopHero.module.css` | 可能修改 | 新增动画相关样式 |

### 不受影响

- **营销网站首页** (`/`) - 其 Hero 区域 (`apps/website/src/components/home/HeroSection.tsx`) 已有打字机动画，不在本次修改范围内
- 文档站点 (`apps/docs`)
- 共享包 (`packages/shared`)
- 下载按钮功能
- 版本选择逻辑

## 影响

### 用户体验提升

| 指标 | 预期改进 |
|------|---------|
| 视觉吸引力 | 添加动态效果，增强页面活力 |
| 品牌一致性 | 与首页动画效果呼应，整体体验统一 |
| 首次印象 | 用户进入下载页面时更具科技感 |
| 性能 | 需确保动画流畅度（60fps） |

### 兼容性

- React 19.2 ✓
- Framer Motion 12.29 ✓
- 响应式布局 ✓
- 无障碍支持 (prefers-reduced-motion) ✓

### 后续考虑

- 可收集用户反馈选择最受欢迎的动画效果
- 未来可根据季节/活动添加特殊标语和动画
- 考虑添加动画开关（无障碍需求）

## 风险与缓解

| 风险 | 缓解措施 |
|------|----------|
| 动画性能问题 | 使用 transform/opacity 属性，避免 layout thrashing |
| 干扰下载转化 | 动画应柔和，不抢占下载按钮的注意力 |
| 无障碍问题 | 遵循 WCAG 动画指南，支持 reduced-motion |

## 决策所需

在开始实施前，需要确认：

1. **动画效果选择**: 从上述 4 个选项中选择一个
2. **标语内容**: 保持当前单一标语，还是添加多个标语轮播
3. **动画时长**: 建议初始动画 1-2 秒，循环动画（如轮播）6-10 秒
4. **交互性**: 是否需要添加鼠标悬停交互效果

---
title: 安装 .NET SDK
description: 本指南帮助您在 Windows、macOS 和 Linux 系统上安装 .NET SDK 运行依赖。
sidebar_position: 20
---
import { Tabs, TabItem } from '@astrojs/starlight/components';

## 简要说明

.NET SDK 是 Hagicode 运行所需的依赖，安装后即可使用。

:::tip[版本要求]
Hagicode 需要 **.NET SDK >= 10.0** 作为运行依赖。
:::

## 安装 .NET SDK

<Tabs>
  <TabItem value="windows" label="Windows" default>

### 方法一：官方安装包（推荐）

1. 访问 [.NET 官方网站](https://dotnet.microsoft.com/download)
2. 选择 **.NET 10** 版本
3. 下载 **SDK**（不是 Runtime）的 Windows 安装程序（`.exe` 或 `.msi` 文件）
4. 双击运行安装程序
5. 按照安装向导的提示完成安装：
   - 接受许可协议
   - 选择安装路径（默认即可）
   - 点击 "安装" 开始安装
6. 安装完成后，点击 "关闭"

### 方法二：使用 winget

打开 PowerShell 或命令提示符，运行以下命令：

```powershell
winget install Microsoft.DotNet.SDK.10
```

:::tip
如果 winget 找不到 .NET 10 SDK，可以先更新 winget 源：
```powershell
winget source update
```
:::

### 方法三：使用 Chocolatey

如果您已经安装了 [Chocolatey](https://chocolatey.org/)：

```powershell
choco install dotnet-10-sdk
```

  </TabItem>
  <TabItem value="macos" label="macOS">

### 方法一：官方安装包（推荐）

1. 访问 [.NET 官方网站](https://dotnet.microsoft.com/download)
2. 选择 **.NET 10** 版本
3. 下载 **SDK** 的 macOS 安装程序（`.pkg` 文件）
4. 双击运行安装程序
5. 按照安装向导的提示完成安装：
   - 点击 "继续"
   - 接受许可协议
   - 选择安装磁盘
   - 点击 "安装" 并输入管理员密码
6. 安装完成后，点击 "关闭"

### 方法二：使用 Homebrew

如果您已经安装了 [Homebrew](https://brew.sh/)，可以通过终端安装 .NET SDK：

```bash
# 添加 Microsoft tap
brew tap microsoft/dotnet

# 安装 .NET 10 SDK
brew install dotnet-sdk-10
```

:::tip
Homebrew 会自动将 .NET SDK 添加到您的 PATH 中。如果命令不可用，请重新启动终端或运行：
```bash
eval "$(/opt/homebrew/bin/brew shellenv)"
```
:::

### 方法三：使用 .NET 安装脚本

```bash
# 下载并运行安装脚本
curl -sSL https://dot.net/v1/dotnet-install.sh | bash /dev/stdin --channel 10.0

# 将 .NET 添加到 PATH（添加到 ~/.zshrc 或 ~/.bashrc）
export DOTNET_ROOT=$HOME/.dotnet
export PATH=$PATH:$DOTNET_ROOT:$DOTNET_ROOT/tools
```

  </TabItem>
  <TabItem value="ubuntu" label="Ubuntu/Debian">

### 使用 Microsoft 包仓库（推荐）

这是获取最新 .NET SDK 版本的最佳方式：

```bash
# 添加 Microsoft 包仓库
wget https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
sudo dpkg -i packages-microsoft-prod.deb
rm packages-microsoft-prod.deb

# 更新包列表
sudo apt-get update

# 安装 .NET 10 SDK
sudo apt-get install -y dotnet-sdk-10.0
```

### 使用 apt 包管理器

Ubuntu 24.04+ 的默认仓库可能包含 .NET 10 SDK：

```bash
sudo apt-get update
sudo apt-get install -y dotnet-sdk-10.0
```

:::note
如果默认仓库中没有 .NET 10 SDK，请使用 Microsoft 包仓库方法。
:::

### 使用 Snap

Ubuntu 也支持通过 Snap 安装：

```bash
sudo snap install dotnet-sdk --classic --channel=10
```

  </TabItem>
  <TabItem value="centos" label="CentOS/RHEL">

### 使用 Microsoft 包仓库（推荐）

```bash
# 添加 Microsoft 包仓库
sudo rpm -Uvh https://packages.microsoft.com/config/centos/$(rpm -E %{rhel})/packages-microsoft-prod.rpm

# 更新包列表
sudo yum update

# 安装 .NET 10 SDK
sudo yum install -y dotnet-sdk-10.0
```

### 使用 yum 包管理器

```bash
sudo yum install -y dotnet-sdk-10.0
```

:::note
如果系统仓库中没有 .NET 10 SDK，请使用 Microsoft 包仓库方法。
:::

  </TabItem>
  <TabItem value="fedora" label="Fedora">

### 使用 dnf 包管理器

```bash
# 添加 Microsoft 包仓库
sudo rpm -Uvh https://packages.microsoft.com/config/fedora/$(rpm -E %fedora)/packages-microsoft-prod.rpm

# 更新包列表
sudo dnf update

# 安装 .NET 10 SDK
sudo dnf install -y dotnet-sdk-10.0
```

:::tip
Fedora 的软件仓库通常包含较新的 .NET 版本，可以直接使用 dnf 安装。
:::

  </TabItem>
  <TabItem value="arch" label="Arch Linux">

### 使用 pacman 包管理器

```bash
# 安装 .NET 10 SDK
sudo pacman -S dotnet-sdk-10.0
```

:::tip
Arch Linux 滚动更新，通常包含最新版本的 .NET SDK。
:::

  </TabItem>
</Tabs>

## 验证安装

安装完成后，请验证 .NET SDK 是否正确安装：

```bash
# 检查 .NET SDK 版本
dotnet --version

# 查看详细的 SDK 信息
dotnet --info
```

:::note
确保 .NET SDK 版本 >= 10.0.0（推荐使用最新的 .NET 10 版本）。如果版本过低，请按照上述方法重新安装。
:::

## 常见问题

### Windows

如果在安装后 `dotnet` 命令不可用：

1. 重新启动命令提示符或 PowerShell
2. 如果仍然不可用，手动将 .NET 添加到 PATH：
   - 搜索 "环境变量" 并打开 "编辑系统环境变量"
   - 点击 "环境变量"
   - 在 "系统变量" 中找到 "Path"，点击 "编辑"
   - 添加 .NET SDK 的安装路径（默认：`C:\Program Files\dotnet\`）
   - 点击 "确定" 保存更改

### macOS

如果安装后命令不可用：

1. 重新启动终端
2. 如果使用 Homebrew 安装，运行：
   ```bash
   eval "$(/opt/homebrew/bin/brew shellenv)"
   ```
3. 手动添加到 PATH（在 `~/.zshrc` 或 `~/.bash_profile` 中）：
   ```bash
   export DOTNET_ROOT=$HOME/.dotnet
   export PATH=$PATH:$DOTNET_ROOT:$DOTNET_ROOT/tools
   ```

### Linux

如果在运行 `dotnet` 时遇到权限错误：

```bash
# 确保安装路径可执行
sudo chmod +x $HOME/.dotnet/dotnet

# 如果使用系统包管理器安装，重新安装
sudo apt-get install --reinstall dotnet-sdk-10.0
```

## 中国大陆用户加速

如果下载速度慢，可使用以下镜像源加速：

- **Azure 中国镜像**: https://dotnetcli.azureedge.net/dotnet/
- **官方 CDN**: https://dotnetcli.blob.core.windows.net/

访问以上地址，选择您需要的版本进行下载。

## 附录：卸载 .NET SDK

如果需要卸载 .NET SDK：

<Tabs>
  <TabItem value="win-uninstall" label="Windows">

1. 打开 "控制面板" > "程序和功能"
2. 找到 "Microsoft .NET SDK - 10.0.0"
3. 右键点击并选择 "卸载"

或使用命令行：

```powershell
# 使用 winget 卸载
winget uninstall Microsoft.DotNet.SDK.10

# 使用 Chocolatey 卸载
choco uninstall dotnet-10-sdk
```

  </TabItem>
  <TabItem value="mac-uninstall" label="macOS">

```bash
# 如果使用 Homebrew 安装
brew uninstall dotnet-sdk-10

# 如果使用安装包安装
sudo rm -rf /usr/local/share/dotnet
sudo rm -rf /usr/local/bin/dotnet
```

  </TabItem>
  <TabItem value="linux-uninstall" label="Linux">

```bash
# Ubuntu/Debian
sudo apt-get remove dotnet-sdk-10.0
sudo apt-get autoremove

# CentOS/RHEL
sudo yum remove dotnet-sdk-10.0

# Fedora
sudo dnf remove dotnet-sdk-10.0

# 如果使用安装脚本安装
rm -rf ~/.dotnet
```

  </TabItem>
</Tabs>

## 了解更多

- [.NET 官方文档](https://learn.microsoft.com/zh-cn/dotnet/core/install/)
- [.NET GitHub Issues](https://github.com/dotnet/sdk/issues)
